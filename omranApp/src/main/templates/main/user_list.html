<!DOCTYPE html>
<html>
<head>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<title>User List</title>
	<style>
		table {
		  font-family: Arial, sans-serif;
		  border-collapse: collapse;
		  width: 100%;
		  max-width: 600px;
		  margin: 0 auto;
		  border: 1px solid #ccc;
		}
		
		th, td {
		  text-align: left;
		  padding: 12px;
		}
		
		th {
		  background-color: #f2f2f2;
		}
		
		td {
		  border-bottom: 1px solid #ddd;
		}
		
		button {
		  background-color: #4CAF50;
		  color: #fff;
		  border: none;
		  padding: 8px 12px;
		  border-radius: 4px;
		  cursor: pointer;
		}
		
		button:hover {
		  background-color: #3e8e41;
		}
		
		.edit {
		  background-color: #2196F3;
		}
		
		.edit:hover {
		  background-color: #0b7dda;
		}
		
		.delete {
		  background-color: #f44336;
		}
		
		.delete:hover {
		  background-color: #da190b;
		}
		</style>
		
		
		

	<style>
		.image-button {
  border: none;
  background: transparent;


}
.image-button:hover {
  background-color: transparent;
}

.image-button img {
  display: block;
  width: 35%;
  height: 35%;
}


	</style>
</head>
<body>
	<table>
		<thead>
			<tr>
				<th>User Name</th>
				<th>User Type</th>
					<th>Edit</th>
					<th>Delete</th>
			</tr>
		</thead>
		<tbody>
			{% for user in users %}
			{% if user.deleted == False %}
			<tr id="user{{user.id}}">
				
				<td>{{user.username}}</td>
				<td>   {{user.get_userPriority_display}}</td>

				  <form method="post" action="edit_user">{% csrf_token %} <td><button name="id" value="{{user.id}}">Edit</button></td></form>
				<td><button class="image-button" onclick="delete_user('{{user.id}}')" ><img src="/static/img/3687412.png" style="width: 35%; height: 35%;"></button></td>
			</tr>
			{% endif %}
            {% endfor %}
			<!-- Add more rows as needed -->
		</tbody>
	</table>


<script>
	function delete_user(val){
       hide(val)
	   $.ajax({
        
		type: 'POST',
          url: '/delete_user',
          data: {
            'id':val},
        
          success: function(response) {}

	   });

	}

	   function hide(id){
      k=document.getElementById("user"+id)      
      document.getElementById("user"+id).style.display= 'none';
     
    }
    function show(id){
      document.getElementById("user"+id).style.display= '';
      
      
    }
</script>

</body>
</html>

